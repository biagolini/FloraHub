"use strict";(self.webpackChunkCarlosBiagolini=self.webpackChunkCarlosBiagolini||[]).push([[790],{1790:(N,f,s)=>{s.r(f),s.d(f,{CatalogModule:()=>K});var p=s(6814),g=s(2787),L=s(7394),t=s(5879),_=s(9862),m=s(9515),T=s(7509),x=s(2296),C=s(2596),l=s(5195),A=s(4611);function y(e,r){if(1&e&&(t.TgZ(0,"div",10)(1,"markdown"),t._uU(2),t.qZA()()),2&e){const a=t.oxw().$implicit,n=t.oxw();t.xp6(2),t.hij(" ",(null==a[n.currentLanguage]?null:a[n.currentLanguage].descricao)||"Description not available"," ")}}const b=function(e){return{"background-image":e}},Z=function(e){return["/",e]};function O(e,r){if(1&e&&(t.TgZ(0,"mat-card",5)(1,"mat-card-header"),t._UZ(2,"div",6),t.TgZ(3,"mat-card-title"),t._uU(4),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t._uU(6),t.qZA()(),t._UZ(7,"img",7),t.TgZ(8,"mat-card-content"),t.YNc(9,y,3,1,"div",8),t.qZA(),t.TgZ(10,"mat-card-actions")(11,"a",9),t._uU(12),t.ALo(13,"translate"),t.qZA()()()),2&e){const a=r.$implicit,n=t.oxw();t.xp6(2),t.Q6J("ngStyle",t.VKq(10,b,"url("+(n.icons[a.categoria]||"assets/imgs/categoria/arvore.jpg")+")")),t.xp6(2),t.hij(" ",(null==a[n.currentLanguage]?null:a[n.currentLanguage].nome_popular)||"Name not available"," "),t.xp6(2),t.Oqu(a.nome_cientifico),t.xp6(1),t.Q6J("src",a.img||"assets/imgs/plantas/imagem_indisponivel.jpg",t.LSH)("alt","Image of "+((null==a[n.currentLanguage]?null:a[n.currentLanguage].nome_popular)||"Plant")),t.xp6(2),t.Q6J("ngIf",n.markdownVisible),t.xp6(2),t.Q6J("routerLink",t.VKq(12,Z,a.key)),t.xp6(1),t.hij(" ",t.lcZ(13,8,"CATALOG_PANEL.LEARN_MORE")," ")}}function v(e,r,a,n,i,o,c){try{var d=e[o](c),u=d.value}catch(J){return void a(J)}d.done?r(u):Promise.resolve(u).then(n,i)}function h(e){return function(){var r=this,a=arguments;return new Promise(function(n,i){var o=e.apply(r,a);function c(u){v(o,n,i,c,d,"next",u)}function d(u){v(o,n,i,c,d,"throw",u)}c(void 0)})}}const P=["audioPlayers"];function k(e,r){if(1&e&&(t.TgZ(0,"markdown"),t._uU(1),t.qZA()),2&e){const a=t.oxw().$implicit;t.xp6(1),t.hij(" ",a.data.descricaoEstendida," ")}}function E(e,r){if(1&e){const a=t.EpF();t.TgZ(0,"audio",11,12),t.NdJ("play",function(i){t.CHM(a);const o=t.oxw(3);return t.KtG(o.pauseOtherAudios(i))}),t.ALo(2,"translate"),t.qZA()}if(2&e){const a=t.oxw().$implicit,n=t.oxw(2);t.s9C("matTooltip",t.lcZ(2,2,"CATALOG_DETAILS.LISTEN")),t.Q6J("src","assets/audios/"+a.id+"/"+n.plantKey+".mp3",t.LSH)}}function M(e,r){1&e&&t._UZ(0,"hr")}function I(e,r){if(1&e&&(t.TgZ(0,"div",7)(1,"h3"),t._uU(2),t.qZA(),t.YNc(3,k,2,1,"markdown",8),t.YNc(4,E,3,4,"audio",9),t.TgZ(5,"a",10),t._uU(6),t.qZA(),t.YNc(7,M,1,0,"hr",8),t.qZA()),2&e){const a=r.$implicit,n=t.oxw(2);t.xp6(2),t.AsE("",a.data.nome_popular," (",a.id.toUpperCase(),")"),t.xp6(1),t.Q6J("ngIf",a.data.descricaoEstendida),t.xp6(1),t.Q6J("ngIf",a.data.hasAudio),t.xp6(1),t.Q6J("href",a.data.link_wikipedia,t.LSH),t.xp6(1),t.hij(" ",n.getWikipediaLabel(a.id)," "),t.xp6(1),t.Q6J("ngIf",a!==n.sortedLanguages[n.sortedLanguages.length-1])}}function S(e,r){if(1&e&&(t.TgZ(0,"div",4)(1,"h2"),t._uU(2),t.qZA(),t._UZ(3,"img",5),t.YNc(4,I,8,7,"div",6),t.qZA()),2&e){const a=t.oxw();t.xp6(2),t.Oqu(a.plant.nome_cientifico),t.xp6(1),t.Q6J("src",a.plant.img,t.LSH)("alt",a.plant.nome_cientifico),t.xp6(1),t.Q6J("ngForOf",a.sortedLanguages)}}const D=[{path:"",component:(()=>{class e{constructor(a,n){this.http=a,this.translateService=n,this.plants=[],this.icons={},this.currentLanguage="pt",this.markdownVisible=!0,this.subscriptions=new L.w0}ngOnInit(){this.currentLanguage=this.translateService.currentLang||"pt",this.subscriptions.add(this.translateService.onLangChange.subscribe(a=>{this.currentLanguage=a.lang,this.refreshMarkdown()})),this.subscriptions.add(this.http.get("assets/data.json").subscribe(a=>{this.icons=a.app.icons,this.plants=Object.entries(a.plantas).map(([n,i])=>({...i,key:n}))}))}refreshMarkdown(){this.markdownVisible=!1,setTimeout(()=>{this.markdownVisible=!0},0)}ngOnDestroy(){this.subscriptions.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(_.eN),t.Y36(m.sK))};static#a=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-catalog-panel"]],decls:9,vars:7,consts:[[1,"catalog-container"],["class","plant-card","appearance","outlined",4,"ngFor","ngForOf"],["routerLink","/sobre",1,"end_page_button"],[1,"material-symbols-outlined",3,"matTooltip"],[1,"end_page_text"],["appearance","outlined",1,"plant-card"],["mat-card-avatar","",1,"category-icon",3,"ngStyle"],["mat-card-image","",3,"src","alt"],["class","markdown-content",4,"ngIf"],["mat-button","","aria-label","'More information about ' + (plant[currentLanguage]?.nome_popular || 'Plant')",3,"routerLink"],[1,"markdown-content"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t.YNc(1,O,14,14,"mat-card",1),t.qZA(),t.TgZ(2,"div",2)(3,"span",3),t.ALo(4,"translate"),t._uU(5," contact_support "),t.qZA(),t.TgZ(6,"span",4),t._uU(7),t.ALo(8,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("ngForOf",i.plants),t.xp6(2),t.s9C("matTooltip",t.lcZ(4,3,"CATALOG_PANEL.ABOUT")),t.xp6(4),t.Oqu(t.lcZ(8,5,"CATALOG_PANEL.ABOUT")))},dependencies:[p.sg,p.O5,p.PC,g.rH,T.Zl,x.zs,C.gM,l.a8,l.hq,l.kc,l.dn,l.dk,l.G2,l.$j,l.n5,A.lF,m.X$]})}return e})()},{path:":plantaKey",component:(()=>{class e{constructor(a,n,i){this.route=a,this.http=n,this.translateService=i,this.plantKey="",this.sortedLanguages=[],this.wikipediaLabels={}}ngOnInit(){var a=this;this.route.paramMap.subscribe(n=>{this.plantKey=n.get("plantaKey")||"",this.http.get("assets/data.json").subscribe(function(){var i=h(function*(o){a.plant=o.plantas[a.plantKey],a.plant&&(yield a.loadLanguages(),a.loadWikipediaTranslations())});return function(o){return i.apply(this,arguments)}}())}),this.translateService.onLangChange.subscribe(()=>{this.loadLanguages(),this.loadWikipediaTranslations()})}checkAudioExists(a){return this.http.head(`assets/audios/${a}/${this.plantKey}.mp3`,{observe:"response"}).toPromise().then(i=>200===i?.status).catch(()=>!1)}loadLanguages(){var a=this;return h(function*(){if(a.plant){a.sortedLanguages=[];for(const[n,i]of Object.entries(a.plant)){if("object"!=typeof i||!i)continue;const o=yield a.checkAudioExists(n),c=yield a.loadDescriptionFromFile(n);a.sortedLanguages.push({id:n,data:{...i,hasAudio:o,descricaoEstendida:c}})}}})()}loadDescriptionFromFile(a){var n=this;return h(function*(){return n.http.get(`assets/plant_info/${a}/${n.plantKey}.md`,{responseType:"text"}).toPromise().then(o=>o||"Description not available").catch(()=>"Description not available")})()}loadWikipediaTranslations(){this.sortedLanguages.forEach(({id:a})=>{this.translateService.getTranslation(a).subscribe(n=>{this.wikipediaLabels[a]=n?.CATALOG_DETAILS?.SEE_WIKIPEDIA?n.CATALOG_DETAILS.SEE_WIKIPEDIA:"Wikipedia"})})}getWikipediaLabel(a){return this.wikipediaLabels[a]||"Wikipedia"}pauseOtherAudios(a){const n=a.target;n&&this.audioPlayers.forEach(i=>{i.nativeElement!==n&&(i.nativeElement.pause(),i.nativeElement.currentTime=0)})}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(g.gz),t.Y36(_.eN),t.Y36(m.sK))};static#a=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-catalog-details"]],viewQuery:function(n,i){if(1&n&&t.Gf(P,5),2&n){let o;t.iGM(o=t.CRH())&&(i.audioPlayers=o)}},decls:8,vars:7,consts:[["class","plant-detail",4,"ngIf"],["routerLink","/",1,"end_page_button"],[1,"material-symbols-outlined",3,"matTooltip"],[1,"end_page_text"],[1,"plant-detail"],[3,"src","alt"],["class","language-section",4,"ngFor","ngForOf"],[1,"language-section"],[4,"ngIf"],["controls","",3,"src","matTooltip","play",4,"ngIf"],["mat-button","","target","_blank",3,"href"],["controls","",3,"src","matTooltip","play"],["audioPlayers",""]],template:function(n,i){1&n&&(t.YNc(0,S,5,4,"div",0),t.TgZ(1,"div",1)(2,"span",2),t.ALo(3,"translate"),t._uU(4," arrow_back "),t.qZA(),t.TgZ(5,"span",3),t._uU(6),t.ALo(7,"translate"),t.qZA()()),2&n&&(t.Q6J("ngIf",i.plant),t.xp6(2),t.s9C("matTooltip",t.lcZ(3,3,"CATALOG_DETAILS.BACK")),t.xp6(4),t.Oqu(t.lcZ(7,5,"CATALOG_DETAILS.BACK")))},dependencies:[p.sg,p.O5,g.rH,x.zs,C.gM,A.lF,m.X$],styles:[".plant-detail[_ngcontent-%COMP%]{text-align:center;padding:20px;max-width:800px;margin:0 auto}.plant-detail[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .plant-detail[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.plant-detail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;margin:20px 0;border-radius:10px}.plant-detail[_ngcontent-%COMP%]   markdown[_ngcontent-%COMP%]{text-align:justify;line-height:1.8;font-size:1.1rem;margin-bottom:16px;white-space:pre-wrap;word-break:break-word;padding:5px;text-indent:0}.plant-detail[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;margin-top:10px;font-weight:700}h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;cursor:pointer}audio[_ngcontent-%COMP%]{width:100%;margin-top:10px}hr[_ngcontent-%COMP%]{border:0;height:1px;background:#ddd;margin:20px 0}"]})}return e})()}];let U=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#a=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(D),g.Bz]})}return e})();var F=s(6383);let K=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#a=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[p.ez,U,F.m]})}return e})()}}]);